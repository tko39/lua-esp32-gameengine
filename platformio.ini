; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32dev_orig]
platform = espressif32
board = esp32dev
framework = arduino


[env:esp32dev]
; Use the specific board definition for your CYD, or esp32dev if unsure.
board = esp32dev
platform = espressif32
framework = arduino
monitor_speed = 115200

; Library dependencies for Display and Touch
lib_deps =
    ; TFT_eSPI by Bodmer (for high-speed graphics)
    bodmer/TFT_eSPI@^2.5.30
    ; XPT2046_Touchscreen by Paul Stoffregen (for resistive touch)
    ; xpt2046-library/XPT2046_Touchscreen@^1.2.0
    https://github.com/PaulStoffregen/XPT2046_Touchscreen

; *** IMPORTANT ***
; You MUST define your pins and configuration here or in a custom User_Setup.h
; This configuration is COMMON for many ILI9342 CYD boards:
build_flags =
    ; Define the specific TFT driver (ILI9342 is common on CYD)
    -D USER_SETUP_LOADED=1
    -D ILI9342_DRIVER=1
    ; -D TFT_WIDTH=320
    ; -D TFT_HEIGHT=240
    ; -D ILI9341_DRIVER=1

    ; Define SPI pins for the display (adjust if needed for your CYD version)
    -D SPI_FREQUENCY=40000000 ; High speed for better FPS
    -D TFT_MISO=12
    -D TFT_MOSI=13
    -D TFT_SCLK=14
    -D TFT_CS=15
    -D TFT_DC=2
    -D TFT_RST=4
    ; Backlight control pin (set to GPIO 21 which was used in the LVGL setup)
    -D TFT_BL=21
    -D TFT_BACKLIGHT_ON=HIGH

    ; Define pins for the XPT2046 Resistive Touch Controller
    ; Use the same touch pin mapping that worked with the LVGL setup
    -D TOUCH_CS=33
    -D TOUCH_IRQ=36
    -D USE_HSPI_PORT=1
